var gt=Object.defineProperty;var O=(pt,at)=>gt(pt,"name",{value:at,configurable:!0});import{j as mt,a as jt}from"./index.4c7c8d37.js";import{g as xt,f as vt}from"./client.17ac73a4.js";var bt={exports:{}};(function(pt,at){(function(ht,dt){pt.exports=dt()})(jt,function(){return function(){var ht={8552:function(n,i,t){var r=t(852)(t(5639),"DataView");n.exports=r},1989:function(n,i,t){var r=t(1789),u=t(401),a=t(7667),o=t(1327),c=t(1866);function p(v){var m=-1,x=v==null?0:v.length;for(this.clear();++m<x;){var _=v[m];this.set(_[0],_[1])}}O(p,"c"),p.prototype.clear=r,p.prototype.delete=u,p.prototype.get=a,p.prototype.has=o,p.prototype.set=c,n.exports=p},8407:function(n,i,t){var r=t(7040),u=t(4125),a=t(2117),o=t(7518),c=t(4705);function p(v){var m=-1,x=v==null?0:v.length;for(this.clear();++m<x;){var _=v[m];this.set(_[0],_[1])}}O(p,"c"),p.prototype.clear=r,p.prototype.delete=u,p.prototype.get=a,p.prototype.has=o,p.prototype.set=c,n.exports=p},7071:function(n,i,t){var r=t(852)(t(5639),"Map");n.exports=r},3369:function(n,i,t){var r=t(4785),u=t(1285),a=t(6e3),o=t(9916),c=t(5265);function p(v){var m=-1,x=v==null?0:v.length;for(this.clear();++m<x;){var _=v[m];this.set(_[0],_[1])}}O(p,"c"),p.prototype.clear=r,p.prototype.delete=u,p.prototype.get=a,p.prototype.has=o,p.prototype.set=c,n.exports=p},3818:function(n,i,t){var r=t(852)(t(5639),"Promise");n.exports=r},8525:function(n,i,t){var r=t(852)(t(5639),"Set");n.exports=r},8668:function(n,i,t){var r=t(3369),u=t(619),a=t(2385);function o(c){var p=-1,v=c==null?0:c.length;for(this.__data__=new r;++p<v;)this.add(c[p])}O(o,"u"),o.prototype.add=o.prototype.push=u,o.prototype.has=a,n.exports=o},6384:function(n,i,t){var r=t(8407),u=t(7465),a=t(3779),o=t(7599),c=t(4758),p=t(4309);function v(m){var x=this.__data__=new r(m);this.size=x.size}O(v,"s"),v.prototype.clear=u,v.prototype.delete=a,v.prototype.get=o,v.prototype.has=c,v.prototype.set=p,n.exports=v},2705:function(n,i,t){var r=t(5639).Symbol;n.exports=r},1149:function(n,i,t){var r=t(5639).Uint8Array;n.exports=r},577:function(n,i,t){var r=t(852)(t(5639),"WeakMap");n.exports=r},7412:function(n){n.exports=function(i,t){for(var r=-1,u=i==null?0:i.length;++r<u&&t(i[r],r,i)!==!1;);return i}},4963:function(n){n.exports=function(i,t){for(var r=-1,u=i==null?0:i.length,a=0,o=[];++r<u;){var c=i[r];t(c,r,i)&&(o[a++]=c)}return o}},4636:function(n,i,t){var r=t(2545),u=t(5694),a=t(1469),o=t(4144),c=t(5776),p=t(6719),v=Object.prototype.hasOwnProperty;n.exports=function(m,x){var _=a(m),S=!_&&u(m),P=!_&&!S&&o(m),k=!_&&!S&&!P&&p(m),U=_||S||P||k,C=U?r(m.length,String):[],R=C.length;for(var q in m)!x&&!v.call(m,q)||U&&(q=="length"||P&&(q=="offset"||q=="parent")||k&&(q=="buffer"||q=="byteLength"||q=="byteOffset")||c(q,R))||C.push(q);return C}},9932:function(n){n.exports=function(i,t){for(var r=-1,u=i==null?0:i.length,a=Array(u);++r<u;)a[r]=t(i[r],r,i);return a}},2488:function(n){n.exports=function(i,t){for(var r=-1,u=t.length,a=i.length;++r<u;)i[a+r]=t[r];return i}},2908:function(n){n.exports=function(i,t){for(var r=-1,u=i==null?0:i.length;++r<u;)if(t(i[r],r,i))return!0;return!1}},4865:function(n,i,t){var r=t(9465),u=t(7813),a=Object.prototype.hasOwnProperty;n.exports=function(o,c,p){var v=o[c];a.call(o,c)&&u(v,p)&&(p!==void 0||c in o)||r(o,c,p)}},8470:function(n,i,t){var r=t(7813);n.exports=function(u,a){for(var o=u.length;o--;)if(r(u[o][0],a))return o;return-1}},4037:function(n,i,t){var r=t(8363),u=t(3674);n.exports=function(a,o){return a&&r(o,u(o),a)}},3886:function(n,i,t){var r=t(8363),u=t(1704);n.exports=function(a,o){return a&&r(o,u(o),a)}},9465:function(n,i,t){var r=t(8777);n.exports=function(u,a,o){a=="__proto__"&&r?r(u,a,{configurable:!0,enumerable:!0,value:o,writable:!0}):u[a]=o}},5990:function(n,i,t){var r=t(6384),u=t(7412),a=t(4865),o=t(4037),c=t(3886),p=t(4626),v=t(278),m=t(8805),x=t(1911),_=t(8234),S=t(6904),P=t(4160),k=t(3824),U=t(9148),C=t(8517),R=t(1469),q=t(4144),E=t(6688),B=t(3218),V=t(2928),N=t(3674),z=t(1704),Y="[object Arguments]",ct="[object Function]",et="[object Object]",I={};I[Y]=I["[object Array]"]=I["[object ArrayBuffer]"]=I["[object DataView]"]=I["[object Boolean]"]=I["[object Date]"]=I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Map]"]=I["[object Number]"]=I[et]=I["[object RegExp]"]=I["[object Set]"]=I["[object String]"]=I["[object Symbol]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I["[object Error]"]=I[ct]=I["[object WeakMap]"]=!1,n.exports=O(function it(T,Z,ut,lt,st,tt){var f,l=1&Z,d=2&Z,e=4&Z;if(ut&&(f=st?ut(T,lt,st,tt):ut(T)),f!==void 0)return f;if(!B(T))return T;var s=R(T);if(s){if(f=k(T),!l)return v(T,f)}else{var h=P(T),b=h==ct||h=="[object GeneratorFunction]";if(q(T))return p(T,l);if(h==et||h==Y||b&&!st){if(f=d||b?{}:C(T),!l)return d?x(T,c(f,T)):m(T,o(f,T))}else{if(!I[h])return st?T:{};f=U(T,h,l)}}tt||(tt=new r);var g=tt.get(T);if(g)return g;tt.set(T,f),V(T)?T.forEach(function(j){f.add(it(j,Z,ut,j,T,tt))}):E(T)&&T.forEach(function(j,w){f.set(w,it(j,Z,ut,w,T,tt))});var y=s?void 0:(e?d?S:_:d?z:N)(T);return u(y||T,function(j,w){y&&(j=T[w=j]),a(f,w,it(j,Z,ut,w,T,tt))}),f},"e")},3118:function(n,i,t){var r=t(3218),u=Object.create,a=function(){function o(){}return O(o,"e"),function(c){if(!r(c))return{};if(u)return u(c);o.prototype=c;var p=new o;return o.prototype=void 0,p}}();n.exports=a},7786:function(n,i,t){var r=t(1811),u=t(327);n.exports=function(a,o){for(var c=0,p=(o=r(o,a)).length;a!=null&&c<p;)a=a[u(o[c++])];return c&&c==p?a:void 0}},8866:function(n,i,t){var r=t(2488),u=t(1469);n.exports=function(a,o,c){var p=o(a);return u(a)?p:r(p,c(a))}},4239:function(n,i,t){var r=t(2705),u=t(9607),a=t(2333),o=r?r.toStringTag:void 0;n.exports=function(c){return c==null?c===void 0?"[object Undefined]":"[object Null]":o&&o in Object(c)?u(c):a(c)}},9454:function(n,i,t){var r=t(4239),u=t(7005);n.exports=function(a){return u(a)&&r(a)=="[object Arguments]"}},939:function(n,i,t){var r=t(2492),u=t(7005);n.exports=O(function a(o,c,p,v,m){return o===c||(o==null||c==null||!u(o)&&!u(c)?o!=o&&c!=c:r(o,c,p,v,a,m))},"e")},2492:function(n,i,t){var r=t(6384),u=t(7114),a=t(8351),o=t(6096),c=t(4160),p=t(1469),v=t(4144),m=t(6719),x="[object Arguments]",_="[object Array]",S="[object Object]",P=Object.prototype.hasOwnProperty;n.exports=function(k,U,C,R,q,E){var B=p(k),V=p(U),N=B?_:c(k),z=V?_:c(U),Y=(N=N==x?S:N)==S,ct=(z=z==x?S:z)==S,et=N==z;if(et&&v(k)){if(!v(U))return!1;B=!0,Y=!1}if(et&&!Y)return E||(E=new r),B||m(k)?u(k,U,C,R,q,E):a(k,U,N,C,R,q,E);if(!(1&C)){var I=Y&&P.call(k,"__wrapped__"),it=ct&&P.call(U,"__wrapped__");if(I||it){var T=I?k.value():k,Z=it?U.value():U;return E||(E=new r),q(T,Z,C,R,E)}}return!!et&&(E||(E=new r),o(k,U,C,R,q,E))}},5588:function(n,i,t){var r=t(4160),u=t(7005);n.exports=function(a){return u(a)&&r(a)=="[object Map]"}},2958:function(n,i,t){var r=t(6384),u=t(939);n.exports=function(a,o,c,p){var v=c.length,m=v,x=!p;if(a==null)return!m;for(a=Object(a);v--;){var _=c[v];if(x&&_[2]?_[1]!==a[_[0]]:!(_[0]in a))return!1}for(;++v<m;){var S=(_=c[v])[0],P=a[S],k=_[1];if(x&&_[2]){if(P===void 0&&!(S in a))return!1}else{var U=new r;if(p)var C=p(P,k,S,a,o,U);if(!(C===void 0?u(k,P,3,p,U):C))return!1}}return!0}},8458:function(n,i,t){var r=t(3560),u=t(5346),a=t(3218),o=t(346),c=/^\[object .+?Constructor\]$/,p=Function.prototype,v=Object.prototype,m=p.toString,x=v.hasOwnProperty,_=RegExp("^"+m.call(x).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");n.exports=function(S){return!(!a(S)||u(S))&&(r(S)?_:c).test(o(S))}},9221:function(n,i,t){var r=t(4160),u=t(7005);n.exports=function(a){return u(a)&&r(a)=="[object Set]"}},8749:function(n,i,t){var r=t(4239),u=t(1780),a=t(7005),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,n.exports=function(c){return a(c)&&u(c.length)&&!!o[r(c)]}},280:function(n,i,t){var r=t(5726),u=t(6916),a=Object.prototype.hasOwnProperty;n.exports=function(o){if(!r(o))return u(o);var c=[];for(var p in Object(o))a.call(o,p)&&p!="constructor"&&c.push(p);return c}},313:function(n,i,t){var r=t(3218),u=t(5726),a=t(3498),o=Object.prototype.hasOwnProperty;n.exports=function(c){if(!r(c))return a(c);var p=u(c),v=[];for(var m in c)(m!="constructor"||!p&&o.call(c,m))&&v.push(m);return v}},1573:function(n,i,t){var r=t(2958),u=t(1499),a=t(2634);n.exports=function(o){var c=u(o);return c.length==1&&c[0][2]?a(c[0][0],c[0][1]):function(p){return p===o||r(p,o,c)}}},2545:function(n){n.exports=function(i,t){for(var r=-1,u=Array(i);++r<i;)u[r]=t(r);return u}},531:function(n,i,t){var r=t(2705),u=t(9932),a=t(1469),o=t(3448),c=r?r.prototype:void 0,p=c?c.toString:void 0;n.exports=O(function v(m){if(typeof m=="string")return m;if(a(m))return u(m,v)+"";if(o(m))return p?p.call(m):"";var x=m+"";return x=="0"&&1/m==-1/0?"-0":x},"e")},1717:function(n){n.exports=function(i){return function(t){return i(t)}}},4757:function(n){n.exports=function(i,t){return i.has(t)}},1811:function(n,i,t){var r=t(1469),u=t(5403),a=t(5514),o=t(9833);n.exports=function(c,p){return r(c)?c:u(c,p)?[c]:a(o(c))}},4318:function(n,i,t){var r=t(1149);n.exports=function(u){var a=new u.constructor(u.byteLength);return new r(a).set(new r(u)),a}},4626:function(n,i,t){n=t.nmd(n);var r=t(5639),u=i&&!i.nodeType&&i,a=u&&n&&!n.nodeType&&n,o=a&&a.exports===u?r.Buffer:void 0,c=o?o.allocUnsafe:void 0;n.exports=function(p,v){if(v)return p.slice();var m=p.length,x=c?c(m):new p.constructor(m);return p.copy(x),x}},7157:function(n,i,t){var r=t(4318);n.exports=function(u,a){var o=a?r(u.buffer):u.buffer;return new u.constructor(o,u.byteOffset,u.byteLength)}},3147:function(n){var i=/\w*$/;n.exports=function(t){var r=new t.constructor(t.source,i.exec(t));return r.lastIndex=t.lastIndex,r}},419:function(n,i,t){var r=t(2705),u=r?r.prototype:void 0,a=u?u.valueOf:void 0;n.exports=function(o){return a?Object(a.call(o)):{}}},7133:function(n,i,t){var r=t(4318);n.exports=function(u,a){var o=a?r(u.buffer):u.buffer;return new u.constructor(o,u.byteOffset,u.length)}},278:function(n){n.exports=function(i,t){var r=-1,u=i.length;for(t||(t=Array(u));++r<u;)t[r]=i[r];return t}},8363:function(n,i,t){var r=t(4865),u=t(9465);n.exports=function(a,o,c,p){var v=!c;c||(c={});for(var m=-1,x=o.length;++m<x;){var _=o[m],S=p?p(c[_],a[_],_,c,a):void 0;S===void 0&&(S=a[_]),v?u(c,_,S):r(c,_,S)}return c}},8805:function(n,i,t){var r=t(8363),u=t(9551);n.exports=function(a,o){return r(a,u(a),o)}},1911:function(n,i,t){var r=t(8363),u=t(1442);n.exports=function(a,o){return r(a,u(a),o)}},4429:function(n,i,t){var r=t(5639)["__core-js_shared__"];n.exports=r},8777:function(n,i,t){var r=t(852),u=function(){try{var a=r(Object,"defineProperty");return a({},"",{}),a}catch{}}();n.exports=u},7114:function(n,i,t){var r=t(8668),u=t(2908),a=t(4757);n.exports=function(o,c,p,v,m,x){var _=1&p,S=o.length,P=c.length;if(S!=P&&!(_&&P>S))return!1;var k=x.get(o),U=x.get(c);if(k&&U)return k==c&&U==o;var C=-1,R=!0,q=2&p?new r:void 0;for(x.set(o,c),x.set(c,o);++C<S;){var E=o[C],B=c[C];if(v)var V=_?v(B,E,C,c,o,x):v(E,B,C,o,c,x);if(V!==void 0){if(V)continue;R=!1;break}if(q){if(!u(c,function(N,z){if(!a(q,z)&&(E===N||m(E,N,p,v,x)))return q.push(z)})){R=!1;break}}else if(E!==B&&!m(E,B,p,v,x)){R=!1;break}}return x.delete(o),x.delete(c),R}},8351:function(n,i,t){var r=t(2705),u=t(1149),a=t(7813),o=t(7114),c=t(8776),p=t(1814),v=r?r.prototype:void 0,m=v?v.valueOf:void 0;n.exports=function(x,_,S,P,k,U,C){switch(S){case"[object DataView]":if(x.byteLength!=_.byteLength||x.byteOffset!=_.byteOffset)return!1;x=x.buffer,_=_.buffer;case"[object ArrayBuffer]":return!(x.byteLength!=_.byteLength||!U(new u(x),new u(_)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+x,+_);case"[object Error]":return x.name==_.name&&x.message==_.message;case"[object RegExp]":case"[object String]":return x==_+"";case"[object Map]":var R=c;case"[object Set]":var q=1&P;if(R||(R=p),x.size!=_.size&&!q)return!1;var E=C.get(x);if(E)return E==_;P|=2,C.set(x,_);var B=o(R(x),R(_),P,k,U,C);return C.delete(x),B;case"[object Symbol]":if(m)return m.call(x)==m.call(_)}return!1}},6096:function(n,i,t){var r=t(8234),u=Object.prototype.hasOwnProperty;n.exports=function(a,o,c,p,v,m){var x=1&c,_=r(a),S=_.length;if(S!=r(o).length&&!x)return!1;for(var P=S;P--;){var k=_[P];if(!(x?k in o:u.call(o,k)))return!1}var U=m.get(a),C=m.get(o);if(U&&C)return U==o&&C==a;var R=!0;m.set(a,o),m.set(o,a);for(var q=x;++P<S;){var E=a[k=_[P]],B=o[k];if(p)var V=x?p(B,E,k,o,a,m):p(E,B,k,a,o,m);if(!(V===void 0?E===B||v(E,B,c,p,m):V)){R=!1;break}q||(q=k=="constructor")}if(R&&!q){var N=a.constructor,z=o.constructor;N==z||!("constructor"in a)||!("constructor"in o)||typeof N=="function"&&N instanceof N&&typeof z=="function"&&z instanceof z||(R=!1)}return m.delete(a),m.delete(o),R}},1957:function(n,i,t){var r=typeof t.g=="object"&&t.g&&t.g.Object===Object&&t.g;n.exports=r},8234:function(n,i,t){var r=t(8866),u=t(9551),a=t(3674);n.exports=function(o){return r(o,a,u)}},6904:function(n,i,t){var r=t(8866),u=t(1442),a=t(1704);n.exports=function(o){return r(o,a,u)}},5050:function(n,i,t){var r=t(7019);n.exports=function(u,a){var o=u.__data__;return r(a)?o[typeof a=="string"?"string":"hash"]:o.map}},1499:function(n,i,t){var r=t(9162),u=t(3674);n.exports=function(a){for(var o=u(a),c=o.length;c--;){var p=o[c],v=a[p];o[c]=[p,v,r(v)]}return o}},852:function(n,i,t){var r=t(8458),u=t(7801);n.exports=function(a,o){var c=u(a,o);return r(c)?c:void 0}},5924:function(n,i,t){var r=t(5569)(Object.getPrototypeOf,Object);n.exports=r},9607:function(n,i,t){var r=t(2705),u=Object.prototype,a=u.hasOwnProperty,o=u.toString,c=r?r.toStringTag:void 0;n.exports=function(p){var v=a.call(p,c),m=p[c];try{p[c]=void 0;var x=!0}catch{}var _=o.call(p);return x&&(v?p[c]=m:delete p[c]),_}},9551:function(n,i,t){var r=t(4963),u=t(479),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,c=o?function(p){return p==null?[]:(p=Object(p),r(o(p),function(v){return a.call(p,v)}))}:u;n.exports=c},1442:function(n,i,t){var r=t(2488),u=t(5924),a=t(9551),o=t(479),c=Object.getOwnPropertySymbols?function(p){for(var v=[];p;)r(v,a(p)),p=u(p);return v}:o;n.exports=c},4160:function(n,i,t){var r=t(8552),u=t(7071),a=t(3818),o=t(8525),c=t(577),p=t(4239),v=t(346),m="[object Map]",x="[object Promise]",_="[object Set]",S="[object WeakMap]",P="[object DataView]",k=v(r),U=v(u),C=v(a),R=v(o),q=v(c),E=p;(r&&E(new r(new ArrayBuffer(1)))!=P||u&&E(new u)!=m||a&&E(a.resolve())!=x||o&&E(new o)!=_||c&&E(new c)!=S)&&(E=O(function(B){var V=p(B),N=V=="[object Object]"?B.constructor:void 0,z=N?v(N):"";if(z)switch(z){case k:return P;case U:return m;case C:return x;case R:return _;case q:return S}return V},"j")),n.exports=E},7801:function(n){n.exports=function(i,t){return i==null?void 0:i[t]}},1789:function(n,i,t){var r=t(4536);n.exports=function(){this.__data__=r?r(null):{},this.size=0}},401:function(n){n.exports=function(i){var t=this.has(i)&&delete this.__data__[i];return this.size-=t?1:0,t}},7667:function(n,i,t){var r=t(4536),u=Object.prototype.hasOwnProperty;n.exports=function(a){var o=this.__data__;if(r){var c=o[a];return c==="__lodash_hash_undefined__"?void 0:c}return u.call(o,a)?o[a]:void 0}},1327:function(n,i,t){var r=t(4536),u=Object.prototype.hasOwnProperty;n.exports=function(a){var o=this.__data__;return r?o[a]!==void 0:u.call(o,a)}},1866:function(n,i,t){var r=t(4536);n.exports=function(u,a){var o=this.__data__;return this.size+=this.has(u)?0:1,o[u]=r&&a===void 0?"__lodash_hash_undefined__":a,this}},3824:function(n){var i=Object.prototype.hasOwnProperty;n.exports=function(t){var r=t.length,u=new t.constructor(r);return r&&typeof t[0]=="string"&&i.call(t,"index")&&(u.index=t.index,u.input=t.input),u}},9148:function(n,i,t){var r=t(4318),u=t(7157),a=t(3147),o=t(419),c=t(7133);n.exports=function(p,v,m){var x=p.constructor;switch(v){case"[object ArrayBuffer]":return r(p);case"[object Boolean]":case"[object Date]":return new x(+p);case"[object DataView]":return u(p,m);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return c(p,m);case"[object Map]":case"[object Set]":return new x;case"[object Number]":case"[object String]":return new x(p);case"[object RegExp]":return a(p);case"[object Symbol]":return o(p)}}},8517:function(n,i,t){var r=t(3118),u=t(5924),a=t(5726);n.exports=function(o){return typeof o.constructor!="function"||a(o)?{}:r(u(o))}},5776:function(n){var i=/^(?:0|[1-9]\d*)$/;n.exports=function(t,r){var u=typeof t;return!!(r=r==null?9007199254740991:r)&&(u=="number"||u!="symbol"&&i.test(t))&&t>-1&&t%1==0&&t<r}},5403:function(n,i,t){var r=t(1469),u=t(3448),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;n.exports=function(c,p){if(r(c))return!1;var v=typeof c;return!(v!="number"&&v!="symbol"&&v!="boolean"&&c!=null&&!u(c))||o.test(c)||!a.test(c)||p!=null&&c in Object(p)}},7019:function(n){n.exports=function(i){var t=typeof i;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?i!=="__proto__":i===null}},5346:function(n,i,t){var r,u=t(4429),a=(r=/[^.]+$/.exec(u&&u.keys&&u.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";n.exports=function(o){return!!a&&a in o}},5726:function(n){var i=Object.prototype;n.exports=function(t){var r=t&&t.constructor;return t===(typeof r=="function"&&r.prototype||i)}},9162:function(n,i,t){var r=t(3218);n.exports=function(u){return u==u&&!r(u)}},7040:function(n){n.exports=function(){this.__data__=[],this.size=0}},4125:function(n,i,t){var r=t(8470),u=Array.prototype.splice;n.exports=function(a){var o=this.__data__,c=r(o,a);return!(c<0)&&(c==o.length-1?o.pop():u.call(o,c,1),--this.size,!0)}},2117:function(n,i,t){var r=t(8470);n.exports=function(u){var a=this.__data__,o=r(a,u);return o<0?void 0:a[o][1]}},7518:function(n,i,t){var r=t(8470);n.exports=function(u){return r(this.__data__,u)>-1}},4705:function(n,i,t){var r=t(8470);n.exports=function(u,a){var o=this.__data__,c=r(o,u);return c<0?(++this.size,o.push([u,a])):o[c][1]=a,this}},4785:function(n,i,t){var r=t(1989),u=t(8407),a=t(7071);n.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||u),string:new r}}},1285:function(n,i,t){var r=t(5050);n.exports=function(u){var a=r(this,u).delete(u);return this.size-=a?1:0,a}},6e3:function(n,i,t){var r=t(5050);n.exports=function(u){return r(this,u).get(u)}},9916:function(n,i,t){var r=t(5050);n.exports=function(u){return r(this,u).has(u)}},5265:function(n,i,t){var r=t(5050);n.exports=function(u,a){var o=r(this,u),c=o.size;return o.set(u,a),this.size+=o.size==c?0:1,this}},8776:function(n){n.exports=function(i){var t=-1,r=Array(i.size);return i.forEach(function(u,a){r[++t]=[a,u]}),r}},2634:function(n){n.exports=function(i,t){return function(r){return r!=null&&r[i]===t&&(t!==void 0||i in Object(r))}}},4523:function(n,i,t){var r=t(8306);n.exports=function(u){var a=r(u,function(c){return o.size===500&&o.clear(),c}),o=a.cache;return a}},4536:function(n,i,t){var r=t(852)(Object,"create");n.exports=r},6916:function(n,i,t){var r=t(5569)(Object.keys,Object);n.exports=r},3498:function(n){n.exports=function(i){var t=[];if(i!=null)for(var r in Object(i))t.push(r);return t}},1167:function(n,i,t){n=t.nmd(n);var r=t(1957),u=i&&!i.nodeType&&i,a=u&&n&&!n.nodeType&&n,o=a&&a.exports===u&&r.process,c=function(){try{var p=a&&a.require&&a.require("util").types;return p||o&&o.binding&&o.binding("util")}catch{}}();n.exports=c},2333:function(n){var i=Object.prototype.toString;n.exports=function(t){return i.call(t)}},5569:function(n){n.exports=function(i,t){return function(r){return i(t(r))}}},5639:function(n,i,t){var r=t(1957),u=typeof self=="object"&&self&&self.Object===Object&&self,a=r||u||Function("return this")();n.exports=a},619:function(n){n.exports=function(i){return this.__data__.set(i,"__lodash_hash_undefined__"),this}},2385:function(n){n.exports=function(i){return this.__data__.has(i)}},1814:function(n){n.exports=function(i){var t=-1,r=Array(i.size);return i.forEach(function(u){r[++t]=u}),r}},7465:function(n,i,t){var r=t(8407);n.exports=function(){this.__data__=new r,this.size=0}},3779:function(n){n.exports=function(i){var t=this.__data__,r=t.delete(i);return this.size=t.size,r}},7599:function(n){n.exports=function(i){return this.__data__.get(i)}},4758:function(n){n.exports=function(i){return this.__data__.has(i)}},4309:function(n,i,t){var r=t(8407),u=t(7071),a=t(3369);n.exports=function(o,c){var p=this.__data__;if(p instanceof r){var v=p.__data__;if(!u||v.length<199)return v.push([o,c]),this.size=++p.size,this;p=this.__data__=new a(v)}return p.set(o,c),this.size=p.size,this}},5514:function(n,i,t){var r=t(4523),u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=r(function(c){var p=[];return c.charCodeAt(0)===46&&p.push(""),c.replace(u,function(v,m,x,_){p.push(x?_.replace(a,"$1"):m||v)}),p});n.exports=o},327:function(n,i,t){var r=t(3448);n.exports=function(u){if(typeof u=="string"||r(u))return u;var a=u+"";return a=="0"&&1/u==-1/0?"-0":a}},346:function(n){var i=Function.prototype.toString;n.exports=function(t){if(t!=null){try{return i.call(t)}catch{}try{return t+""}catch{}}return""}},7813:function(n){n.exports=function(i,t){return i===t||i!=i&&t!=t}},7361:function(n,i,t){var r=t(7786);n.exports=function(u,a,o){var c=u==null?void 0:r(u,a);return c===void 0?o:c}},5694:function(n,i,t){var r=t(9454),u=t(7005),a=Object.prototype,o=a.hasOwnProperty,c=a.propertyIsEnumerable,p=r(function(){return arguments}())?r:function(v){return u(v)&&o.call(v,"callee")&&!c.call(v,"callee")};n.exports=p},1469:function(n){var i=Array.isArray;n.exports=i},8612:function(n,i,t){var r=t(3560),u=t(1780);n.exports=function(a){return a!=null&&u(a.length)&&!r(a)}},4144:function(n,i,t){n=t.nmd(n);var r=t(5639),u=t(5062),a=i&&!i.nodeType&&i,o=a&&n&&!n.nodeType&&n,c=o&&o.exports===a?r.Buffer:void 0,p=(c?c.isBuffer:void 0)||u;n.exports=p},3560:function(n,i,t){var r=t(4239),u=t(3218);n.exports=function(a){if(!u(a))return!1;var o=r(a);return o=="[object Function]"||o=="[object GeneratorFunction]"||o=="[object AsyncFunction]"||o=="[object Proxy]"}},1780:function(n){n.exports=function(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=9007199254740991}},6688:function(n,i,t){var r=t(5588),u=t(1717),a=t(1167),o=a&&a.isMap,c=o?u(o):r;n.exports=c},3218:function(n){n.exports=function(i){var t=typeof i;return i!=null&&(t=="object"||t=="function")}},7005:function(n){n.exports=function(i){return i!=null&&typeof i=="object"}},2928:function(n,i,t){var r=t(9221),u=t(1717),a=t(1167),o=a&&a.isSet,c=o?u(o):r;n.exports=c},3448:function(n,i,t){var r=t(4239),u=t(7005);n.exports=function(a){return typeof a=="symbol"||u(a)&&r(a)=="[object Symbol]"}},6719:function(n,i,t){var r=t(8749),u=t(1717),a=t(1167),o=a&&a.isTypedArray,c=o?u(o):r;n.exports=c},3674:function(n,i,t){var r=t(4636),u=t(280),a=t(8612);n.exports=function(o){return a(o)?r(o):u(o)}},1704:function(n,i,t){var r=t(4636),u=t(313),a=t(8612);n.exports=function(o){return a(o)?r(o,!0):u(o)}},6410:function(n,i,t){var r=t(5990),u=t(1573);n.exports=function(a){return u(r(a,1))}},8306:function(n,i,t){var r=t(3369);function u(a,o){if(typeof a!="function"||o!=null&&typeof o!="function")throw new TypeError("Expected a function");var c=O(function(){var p=arguments,v=o?o.apply(this,p):p[0],m=c.cache;if(m.has(v))return m.get(v);var x=a.apply(this,p);return c.cache=m.set(v,x)||m,x},"r");return c.cache=new(u.Cache||r),c}O(u,"o"),u.Cache=r,n.exports=u},479:function(n){n.exports=function(){return[]}},5062:function(n){n.exports=function(){return!1}},9833:function(n,i,t){var r=t(531);n.exports=function(u){return u==null?"":r(u)}}},dt={};function D(n){var i=dt[n];if(i!==void 0)return i.exports;var t=dt[n]={id:n,loaded:!1,exports:{}};return ht[n](t,t.exports,D),t.loaded=!0,t.exports}O(D,"r"),D.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return D.d(i,{a:i}),i},D.d=function(n,i){for(var t in i)D.o(i,t)&&!D.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:i[t]})},D.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),D.o=function(n,i){return Object.prototype.hasOwnProperty.call(n,i)},D.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},D.nmd=function(n){return n.paths=[],n.children||(n.children=[]),n};var yt={};return function(){D.r(yt),D.d(yt,{Collection:function(){return _},FetchServer:function(){return st},Server:function(){return z},Single:function(){return k},default:function(){return tt}});var n=D(7361),i=D.n(n),t=D(6410),r=D.n(t);function u(f,l){if(!(f instanceof l))throw new TypeError("Cannot call a class as a function")}O(u,"u");function a(f,l){for(var d=0;d<l.length;d++){var e=l[d];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(f,e.key,e)}}O(a,"a");function o(f,l,d){return l in f?Object.defineProperty(f,l,{value:d,enumerable:!0,configurable:!0,writable:!0}):f[l]=d,f}O(o,"c");function c(f,l){return function(d){if(Array.isArray(d))return d}(f)||function(d,e){var s=d==null?null:typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(s!=null){var h,b,g=[],y=!0,j=!1;try{for(s=s.call(d);!(y=(h=s.next()).done)&&(g.push(h.value),!e||g.length!==e);y=!0);}catch(w){j=!0,b=w}finally{try{y||s.return==null||s.return()}finally{if(j)throw b}}return g}}(f,l)||function(d,e){if(!!d){if(typeof d=="string")return p(d,e);var s=Object.prototype.toString.call(d).slice(8,-1);if(s==="Object"&&d.constructor&&(s=d.constructor.name),s==="Map"||s==="Set")return Array.from(d);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return p(d,e)}}(f,l)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}O(c,"s");function p(f,l){(l==null||l>f.length)&&(l=f.length);for(var d=0,e=new Array(l);d<l;d++)e[d]=f[d];return e}O(p,"f");function v(f){return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},v(f)}O(v,"l");var m=O(function(f,l){if(f.indexOf("_q")!==-1){var d=f.replace(/(_q)$/,""),e=new RegExp(l,"i");return function(A){var F;return((F=i()(A,d))===null||F===void 0?void 0:F.match(e))!==null}}if(f.indexOf("_lte")!==-1){var s=f.replace(/(_lte)$/,"");return function(A){return i()(A,s)<=l}}if(f.indexOf("_gte")!==-1){var h=f.replace(/(_gte)$/,"");return function(A){return i()(A,h)>=l}}if(f.indexOf("_lt")!==-1){var b=f.replace(/(_lt)$/,"");return function(A){return i()(A,b)<l}}if(f.indexOf("_gt")!==-1){var g=f.replace(/(_gt)$/,"");return function(A){return i()(A,g)>l}}if(f.indexOf("_neq_any")!==-1){var y=f.replace(/(_neq_any)$/,""),j=Array.isArray(l)?l:[l];return function(A){return j.every(function(F){return i()(A,y)!=F})}}if(f.indexOf("_neq")!==-1){var w=f.replace(/(_neq)$/,"");return function(A){return i()(A,w)!=l}}if(f.indexOf("_eq_any")!==-1){var $=f.replace(/(_eq_any)$/,""),M=Array.isArray(l)?l:[l];return function(A){return M.some(function(F){return i()(A,$)==F})}}if(f.indexOf("_eq")!==-1){var Q=f.replace(/(_eq)$/,"");return function(A){return i()(A,Q)==l}}if(f.indexOf("_inc_any")!==-1){var W=f.replace(/(_inc_any)$/,""),L=Array.isArray(l)?l:[l];return function(A){return L.some(function(F){return i()(A,W).includes(F)})}}if(f.indexOf("_inc")!==-1){var K=f.replace(/(_inc)$/,""),J=Array.isArray(l)?l:[l];return function(A){return J.every(function(F){return i()(A,K).includes(F)})}}if(f.indexOf("_ninc_any")!==-1){var H=f.replace(/(_ninc_any)$/,""),X=Array.isArray(l)?l:[l];return function(A){return X.every(function(F){return!i()(A,H).includes(F)})}}return Array.isArray(l)?function(A){return Array.isArray(i()(A,f))?(F=O(function(nt){return ot=i()(A,f),ft=O(function(G){return G==nt},"i"),ot.reduce(function(G,rt){return G||ft(rt)},!1);var ot,ft},"o"),l.reduce(function(nt,ot){return nt&&F(ot)},!0)):l.filter(function(nt){return nt==i()(A,f)}).length>0;var F}:v(l)==="object"?function(A){return r()(l)(i()(A,f))}:function(A){return Array.isArray(i()(A,f))&&typeof l=="string"?i()(A,f).indexOf(l)!==-1:typeof i()(A,f)=="boolean"&&typeof l=="string"?i()(A,f)==(l==="true"):i()(A,f)==l}},"p");function x(f,l){if(typeof l=="function")return f.filter(l);if(l instanceof Object){var d=Object.keys(l).map(function(e){if(e==="q"){var s=new RegExp(l.q,"i");return O(function g(y){for(var j in y)if(v(y[j])==="object"&&g(y[j])||y[j]&&y[j].match&&y[j].match(s)!==null)return!0;return!1},"e")}var h=e.split("."),b=l[e];return h.length>1?function(g){var y=function(M,Q){return M.reduce(function(W,L,K){if(W!=null)return W;var J=M.slice(0,K+1).join("."),H=M.slice(K+1).join("."),X=i()(Q,J);return Array.isArray(X)&&K<M.length-1?[J,H]:void 0},void 0)}(h,g);if(y){var j=c(y,2),w=j[0],$=j[1];return x(i()(g,w),o({},$,b)).length>0}return m(e,b)(g)}:m(e,b)});return f.filter(function(e){return d.reduce(function(s,h){return s&&h(e)},!0)})}throw new Error("Unsupported filter type")}O(x,"y");var _=function(){function f(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"id";if(u(this,f),o(this,"sequence",0),o(this,"items",[]),o(this,"server",null),o(this,"name",null),o(this,"identifierName","id"),!Array.isArray(e))throw new Error("Can't initialize a Collection with anything else than an array of items");this.identifierName=s,e.map(this.addOne.bind(this))}O(f,"e");var l,d;return l=f,(d=[{key:"setServer",value:function(e){this.server=e}},{key:"setName",value:function(e){this.name=e}},{key:"_oneToManyEmbedder",value:function(e){var s=this;if(this.name==null)throw new Error("Can't embed references without a collection name");var h=this.name.slice(0,-1)+"_id";return function(b){if(s.server==null)throw new Error("Can't embed references without a server");var g=s.server.collections[e];if(!g)throw new Error("Can't embed a non-existing collection ".concat(e));return Array.isArray(b[e])?b[e]=g.getAll({filter:function(y){return b[e].indexOf(y[g.identifierName])!==-1}}):b[e]=g.getAll({filter:function(y){return y[h]==b[s.identifierName]}}),b}}},{key:"_manyToOneEmbedder",value:function(e){var s=this,h=e+"s",b=e+"_id";return function(g){if(s.server==null)throw new Error("Can't embed references without a server");var y=s.server.collections[h];if(!y)throw new Error("Can't embed a non-existing collection ".concat(e));try{g[e]=y.getOne(g[b])}catch{}return g}}},{key:"_itemEmbedder",value:function(e){var s=this,h=(Array.isArray(e)?e:[e]).map(function(b){return b.endsWith("s")?s._oneToManyEmbedder(b):s._manyToOneEmbedder(b)});return function(b){return h.reduce(function(g,y){return y(g)},b)}}},{key:"getCount",value:function(e){return this.getAll(e).length}},{key:"getAll",value:function(e){var s=this.items.slice(0);return e&&(e.filter&&(s=x(s,e.filter)),e.sort&&(s=function(h,b){if(typeof b=="function")return h.sort(b);if(typeof b=="string")return h.sort(function(j,w){return j[b]>w[b]?1:j[b]<w[b]?-1:0});if(Array.isArray(b)){var g=b[0],y=b[1].toLowerCase()=="asc"?1:-1;return h.sort(function(j,w){return j[g]>w[g]?y:j[g]<w[g]?-1*y:0})}throw new Error("Unsupported sort type")}(s,e.sort)),e.range&&(s=function(h,b){if(Array.isArray(b))return h.slice(b[0],b[1]!==void 0?b[1]+1:void 0);throw new Error("Unsupported range type")}(s,e.range)),s=s.map(function(h){return Object.assign({},h)}),e.embed&&this.server&&(s=s.map(this._itemEmbedder(e.embed)))),s}},{key:"getIndex",value:function(e){var s=this;return this.items.findIndex(function(h){return h[s.identifierName]==e})}},{key:"getOne",value:function(e,s){var h=this.getIndex(e);if(h===-1)throw new Error("No item with identifier ".concat(e));var b=this.items[h];return b=Object.assign({},b),s&&s.embed&&this.server&&(b=this._itemEmbedder(s.embed)(b)),b}},{key:"addOne",value:function(e){var s=e[this.identifierName];if(s!==void 0){if(this.getIndex(s)!==-1)throw new Error("An item with the identifier ".concat(s," already exists"));this.sequence=Math.max(this.sequence,s)+1}else e[this.identifierName]=this.sequence++;return this.items.push(e),Object.assign({},e)}},{key:"updateOne",value:function(e,s){var h=this.getIndex(e);if(h===-1)throw new Error("No item with identifier ".concat(e));for(var b in s)this.items[h][b]=s[b];return Object.assign({},this.items[h])}},{key:"removeOne",value:function(e){var s=this.getIndex(e);if(s===-1)throw new Error("No item with identifier ".concat(e));var h=this.items[s];return this.items.splice(s,1),e==this.sequence-1&&this.sequence--,h}}])&&a(l.prototype,d),Object.defineProperty(l,"prototype",{writable:!1}),f}();function S(f,l){for(var d=0;d<l.length;d++){var e=l[d];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(f,e.key,e)}}O(S,"h");function P(f,l,d){return l in f?Object.defineProperty(f,l,{value:d,enumerable:!0,configurable:!0,writable:!0}):f[l]=d,f}O(P,"v");var k=function(){function f(e){if(function(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")}(this,f),P(this,"obj",null),P(this,"server",null),P(this,"name",null),!(e instanceof Object))throw new Error("Can't initialize a Single with anything except an object");this.obj=e}O(f,"e");var l,d;return l=f,(d=[{key:"setServer",value:function(e){this.server=e}},{key:"setName",value:function(e){this.name=e}},{key:"_oneToManyEmbedder",value:function(e){var s=this;return function(h){if(s.server==null)throw new Error("Can't embed references without a server");var b=s.server.collections[e];if(!b)throw new Error("Can't embed a non-existing collection ".concat(e));return h[e]=b.getAll({filter:function(g){return h[e].indexOf(g[b.identifierName])!==-1}}),h}}},{key:"_manyToOneEmbedder",value:function(e){var s=this,h=e+"s",b=e+"_id";return function(g){if(s.server==null)throw new Error("Can't embed references without a server");var y=s.server.collections[h];if(!y)throw new Error("Can't embed a non-existing collection ".concat(e));try{g[e]=y.getOne(g[b])}catch{}return g}}},{key:"_itemEmbedder",value:function(e){var s=this,h=(Array.isArray(e)?e:[e]).map(function(b){return b.endsWith("s")?s._oneToManyEmbedder(b):s._manyToOneEmbedder(b)});return function(b){return h.reduce(function(g,y){return y(g)},b)}}},{key:"getOnly",value:function(e){var s=this.obj;return e&&e.embed&&this.server&&(s=Object.assign({},s),s=this._itemEmbedder(e.embed)(s)),s}},{key:"updateOnly",value:function(e){for(var s in e)this.obj[s]=e[s];return this.obj}}])&&S(l.prototype,d),Object.defineProperty(l,"prototype",{writable:!1}),f}();function U(f,l){return function(d){if(Array.isArray(d))return d}(f)||function(d,e){var s=d==null?null:typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(s!=null){var h,b,g=[],y=!0,j=!1;try{for(s=s.call(d);!(y=(h=s.next()).done)&&(g.push(h.value),!e||g.length!==e);y=!0);}catch(w){j=!0,b=w}finally{try{y||s.return==null||s.return()}finally{if(j)throw b}}return g}}(f,l)||function(d,e){if(!!d){if(typeof d=="string")return C(d,e);var s=Object.prototype.toString.call(d).slice(8,-1);if(s==="Object"&&d.constructor&&(s=d.constructor.name),s==="Map"||s==="Set")return Array.from(d);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return C(d,e)}}(f,l)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}O(U,"g");function C(f,l){(l==null||l>f.length)&&(l=f.length);for(var d=0,e=new Array(l);d<l;d++)e[d]=f[d];return e}O(C,"m");function R(f){if(!f)return{};var l={};return f.split("&").map(function(d){if(d.indexOf("=")===-1)l[d]=!0;else{var e=U(d.split("="),2),s=e[0],h=e[1];h.indexOf("[")!==0&&h.indexOf("{")!==0||(h=JSON.parse(h)),l[s.trim()]=h}}),l}O(R,"j");function q(f,l){var d=typeof Symbol<"u"&&f[Symbol.iterator]||f["@@iterator"];if(!d){if(Array.isArray(f)||(d=function(y,j){if(!!y){if(typeof y=="string")return E(y,j);var w=Object.prototype.toString.call(y).slice(8,-1);if(w==="Object"&&y.constructor&&(w=y.constructor.name),w==="Map"||w==="Set")return Array.from(y);if(w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w))return E(y,j)}}(f))||l&&f&&typeof f.length=="number"){d&&(f=d);var e=0,s=O(function(){},"o");return{s,n:function(){return e>=f.length?{done:!0}:{done:!1,value:f[e++]}},e:function(y){throw y},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h,b=!0,g=!1;return{s:function(){d=d.call(f)},n:function(){var y=d.next();return b=y.done,y},e:function(y){g=!0,h=y},f:function(){try{b||d.return==null||d.return()}finally{if(g)throw h}}}}O(q,"x");function E(f,l){(l==null||l>f.length)&&(l=f.length);for(var d=0,e=new Array(l);d<l;d++)e[d]=f[d];return e}O(E,"_");function B(f,l){if(!(f instanceof l))throw new TypeError("Cannot call a class as a function")}O(B,"O");function V(f,l){for(var d=0;d<l.length;d++){var e=l[d];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(f,e.key,e)}}O(V,"w");function N(f,l,d){return l in f?Object.defineProperty(f,l,{value:d,enumerable:!0,configurable:!0,writable:!0}):f[l]=d,f}O(N,"A");var z=function(){function f(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";B(this,f),N(this,"baseUrl",null),N(this,"loggingEnabled",!1),N(this,"defaultQuery",function(){}),N(this,"batchUrl",null),N(this,"collections",{}),N(this,"singles",{}),N(this,"requestInterceptors",[]),N(this,"responseInterceptors",[]),this.baseUrl=e}O(f,"e");var l,d;return l=f,d=[{key:"init",value:function(e){for(var s in e)Array.isArray(e[s])?this.addCollection(s,new _(e[s],"id")):this.addSingle(s,new k(e[s]))}},{key:"toggleLogging",value:function(){this.loggingEnabled=!this.loggingEnabled}},{key:"setDefaultQuery",value:function(e){this.defaultQuery=e}},{key:"setBatchUrl",value:function(e){this.batchUrl=e}},{key:"setBatch",value:function(e){console.warn("Server.setBatch() is deprecated, use Server.setBatchUrl() instead"),this.batchUrl=e}},{key:"addCollection",value:function(e,s){this.collections[e]=s,s.setServer(this),s.setName(e)}},{key:"getCollection",value:function(e){return this.collections[e]}},{key:"getCollectionNames",value:function(){return Object.keys(this.collections)}},{key:"addSingle",value:function(e,s){this.singles[e]=s,s.setServer(this),s.setName(e)}},{key:"getSingle",value:function(e){return this.singles[e]}},{key:"getSingleNames",value:function(){return Object.keys(this.singles)}},{key:"addRequestInterceptor",value:function(e){this.requestInterceptors.push(e)}},{key:"addResponseInterceptor",value:function(e){this.responseInterceptors.push(e)}},{key:"getCount",value:function(e,s){return this.collections[e].getCount(s)}},{key:"getAll",value:function(e,s){return this.collections[e].getAll(s)}},{key:"getOne",value:function(e,s,h){return this.collections[e].getOne(s,h)}},{key:"addOne",value:function(e,s){return this.collections.hasOwnProperty(e)||this.addCollection(e,new _([],"id")),this.collections[e].addOne(s)}},{key:"updateOne",value:function(e,s,h){return this.collections[e].updateOne(s,h)}},{key:"removeOne",value:function(e,s){return this.collections[e].removeOne(s)}},{key:"getOnly",value:function(e,s){return this.singles[e].getOnly()}},{key:"updateOnly",value:function(e,s){return this.singles[e].updateOnly(s)}},{key:"decode",value:function(e){if(e.queryString=decodeURIComponent(e.url.slice(e.url.indexOf("?")+1)),e.params=R(e.queryString),e.requestBody)try{e.json=JSON.parse(e.requestBody)}catch{}return this.requestInterceptors.reduce(function(s,h){return h(s)},e)}},{key:"respond",value:function(e,s,h){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:200;s||(s={}),s["Content-Type"]||(s["Content-Type"]="application/json");var g={status:b,headers:s,body:e};return g=this.responseInterceptors.reduce(function(y,j){return j(y,h)},g),this.log(h,g),h.respond(g.status,g.headers,JSON.stringify(g.body))}},{key:"log",value:function(e,s){this.loggingEnabled&&(console.group?(console.groupCollapsed(e.method,e.url,"(FakeRest)"),console.group("request"),console.log(e.method,e.url),console.log("headers",e.requestHeaders),console.log("body   ",e.requestBody),console.groupEnd(),console.group("response",s.status),console.log("headers",s.headers),console.log("body   ",s.body),console.groupEnd(),console.groupEnd()):(console.log("FakeRest request ",e.method,e.url,"headers",e.requestHeaders,"body",e.requestBody),console.log("FakeRest response",s.status,"headers",s.headers,"body",s.body)))}},{key:"batch",value:function(e){var s=e.json,h=this.handle.bind(this),b=Object.keys(s).reduce(function(g,y){var j,w={url:s[y],method:"GET",params:{},respond:function($,M,Q){j={code:$,headers:Object.keys(M||{}).map(function(W){return{name:W,value:M[W]}}),body:Q||{}}}};return h(w),g[y]=j||{code:404,headers:[],body:{}},g},{});return this.respond(b,{},e,200)}},{key:"handle",value:function(e){if(e=this.decode(e),this.batchUrl&&this.batchUrl===e.url&&e.method==="POST")return this.batch(e);var s,h=q(this.getSingleNames());try{for(h.s();!(s=h.n()).done;){var b=s.value;if(e.url.match(new RegExp("^"+this.baseUrl+"\\/("+b+")(\\/?.*)?$"))){if(e.method=="GET")try{var g=this.getOnly(b);return this.respond(g,null,e)}catch{return e.respond(404)}if(e.method=="PUT")try{var y=this.updateOnly(b,e.json);return this.respond(y,null,e)}catch{return e.respond(404)}if(e.method=="PATCH")try{var j=this.updateOnly(b,e.json);return this.respond(j,null,e)}catch{return e.respond(404)}}}}catch(rt){h.e(rt)}finally{h.f()}var w=e.url.match(new RegExp("^"+this.baseUrl+"\\/([^\\/?]+)(\\/(\\d+))?(\\?.*)?$"));if(w){var $=w[1],M=Object.assign({},this.defaultQuery($),e.params);if(w[2]){if(!this.getCollection($))return;var Q=w[3];if(e.method=="GET")try{var W=this.getOne($,Q,M);return this.respond(W,null,e)}catch{return e.respond(404)}if(e.method=="PUT")try{var L=this.updateOne($,Q,e.json);return this.respond(L,null,e)}catch{return e.respond(404)}if(e.method=="PATCH")try{var K=this.updateOne($,Q,e.json);return this.respond(K,null,e)}catch{return e.respond(404)}if(e.method=="DELETE")try{var J=this.removeOne($,Q);return this.respond(J,null,e)}catch{return e.respond(404)}}else{if(e.method=="GET"){if(!this.getCollection($))return;var H,X,A,F=this.getCount($,M.filter?{filter:M.filter}:{});if(F>0){H=this.getAll($,M);var nt=M.range?M.range[0]:0,ot=M.range?Math.min(H.length-1+nt,M.range[1]):H.length-1;X="items ".concat(nt,"-").concat(ot,"/").concat(F),A=H.length==F?200:206}else H=[],X="items */0",A=200;return this.respond(H,{"Content-Range":X},e,A)}if(e.method=="POST"){var ft=this.addOne($,e.json),G=this.baseUrl+"/"+$+"/"+ft[this.getCollection($).identifierName];return this.respond(ft,{Location:G},e,201)}}}}},{key:"getHandler",value:function(){return this.handle.bind(this)}}],d&&V(l.prototype,d),Object.defineProperty(l,"prototype",{writable:!1}),f}();function Y(f){return Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},Y(f)}O(Y,"E");function ct(f,l){var d=typeof Symbol<"u"&&f[Symbol.iterator]||f["@@iterator"];if(!d){if(Array.isArray(f)||(d=function(y,j){if(!!y){if(typeof y=="string")return et(y,j);var w=Object.prototype.toString.call(y).slice(8,-1);if(w==="Object"&&y.constructor&&(w=y.constructor.name),w==="Map"||w==="Set")return Array.from(y);if(w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w))return et(y,j)}}(f))||l&&f&&typeof f.length=="number"){d&&(f=d);var e=0,s=O(function(){},"o");return{s,n:function(){return e>=f.length?{done:!0}:{done:!1,value:f[e++]}},e:function(y){throw y},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h,b=!0,g=!1;return{s:function(){d=d.call(f)},n:function(){var y=d.next();return b=y.done,y},e:function(y){g=!0,h=y},f:function(){try{b||d.return==null||d.return()}finally{if(g)throw h}}}}O(ct,"k");function et(f,l){(l==null||l>f.length)&&(l=f.length);for(var d=0,e=new Array(l);d<l;d++)e[d]=f[d];return e}O(et,"C");function I(f,l){if(!(f instanceof l))throw new TypeError("Cannot call a class as a function")}O(I,"T");function it(f,l){for(var d=0;d<l.length;d++){var e=l[d];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(f,e.key,e)}}O(it,"P");function T(f,l){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,e){return d.__proto__=e,d},T(f,l)}O(T,"q");function Z(f){var l=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var d,e=lt(f);if(l){var s=lt(this).constructor;d=Reflect.construct(e,arguments,s)}else d=e.apply(this,arguments);return ut(this,d)}}O(Z,"I");function ut(f,l){if(l&&(Y(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(f)}O(ut,"U");function lt(f){return lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(l){return l.__proto__||Object.getPrototypeOf(l)},lt(f)}O(lt,"R");var st=function(f){(function(h,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(b&&b.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),b&&T(h,b)})(s,f);var l,d,e=Z(s);function s(){return I(this,s),e.apply(this,arguments)}return O(s,"i"),l=s,(d=[{key:"decode",value:function(h,b){var g=this,y=typeof h=="string"?new Request(h,b):h;return y.queryString=decodeURIComponent(y.url.slice(y.url.indexOf("?")+1)),y.params=R(y.queryString),y.text().then(function(j){y.requestBody=j;try{y.requestJson=JSON.parse(j)}catch{}}).then(function(){return g.requestInterceptors.reduce(function(j,w){return w(j)},y)})}},{key:"respond",value:function(h,b){return h=this.responseInterceptors.reduce(function(g,y){return y(g,b)},h),this.log(b,h),h.headers=new Headers(h.headers),h}},{key:"log",value:function(h,b){this.loggingEnabled&&(console.group?(console.groupCollapsed(h.method,h.url,"(FakeRest)"),console.group("request"),console.log(h.method,h.url),console.log("headers",h.headers),console.log("body   ",h.requestBody),console.groupEnd(),console.group("response",b.status),console.log("headers",b.headers),console.log("body   ",b.body),console.groupEnd(),console.groupEnd()):(console.log("FakeRest request ",h.method,h.url,"headers",h.headers,"body",h.requestBody),console.log("FakeRest response",b.status,"headers",b.headers,"body",b.body)))}},{key:"batch",value:function(h){throw new Error("not implemented")}},{key:"handle",value:function(h,b){var g=this;return this.decode(h,b).then(function(y){var j={headers:{"Content-Type":"application/json"},status:200};if(g.batchUrl&&g.batchUrl===y.url&&y.method==="POST")return g.batch(y);var w,$=ct(g.getSingleNames());try{for($.s();!(w=$.n()).done;){var M=w.value;if(y.url.match(new RegExp("^"+g.baseUrl+"\\/("+M+")(\\/?.*)?$"))){if(y.method=="GET"){try{j.body=g.getOnly(M)}catch{reponse.status=404}return g.respond(j,y)}if(y.method=="PUT"){try{j.body=g.updateOnly(M,y.requestJson)}catch{reponse.status=404}return g.respond(j,y)}if(y.method=="PATCH"){try{j.body=g.updateOnly(M,y.requestJson)}catch{reponse.status=404}return g.respond(j,y)}}}}catch(G){$.e(G)}finally{$.f()}var Q,W=ct(g.getCollectionNames());try{for(W.s();!(Q=W.n()).done;){var L=Q.value,K=y.url.match(new RegExp("^"+g.baseUrl+"\\/("+L+")(\\/(\\d+))?(\\?.*)?$"));if(K){var J=Object.assign({},g.defaultQuery(L),y.params);if(K[2]){var H=K[3];if(y.method=="GET"){try{j.body=g.getOne(L,H,J)}catch{j.status=404}return g.respond(j,y)}if(y.method=="PUT"){try{j.body=g.updateOne(L,H,y.requestJson)}catch{j.status=404}return g.respond(j,y)}if(y.method=="PATCH"){try{j.body=g.updateOne(L,H,y.requestJson)}catch{j.status=404}return g.respond(j,y)}if(y.method=="DELETE"){try{j.body=g.removeOne(L,H)}catch{j.status=404}return g.respond(j,y)}}else{if(y.method=="GET"){var X=g.getCount(L,J.filter?{filter:J.filter}:{});if(X>0){var A=g.getAll(L,J),F=J.range?J.range[0]:0,nt=J.range?Math.min(A.length-1+F,J.range[1]):A.length-1;j.body=A,j.headers["Content-Range"]="items ".concat(F,"-").concat(nt,"/").concat(X),j.status=A.length==X?200:206}else j.body=[],j.headers["Content-Range"]="items */0";return g.respond(j,y)}if(y.method=="POST"){var ot=g.addOne(L,y.requestJson),ft=g.baseUrl+"/"+L+"/"+ot[g.getCollection(L).identifierName];return j.body=ot,j.headers.Location=ft,j.status=201,g.respond(j,y)}}}}}catch(G){W.e(G)}finally{W.f()}return g.respond(j,y)})}}])&&it(l.prototype,d),Object.defineProperty(l,"prototype",{writable:!1}),s}(z),tt={Server:z,FetchServer:st,Collection:_,Single:k}}(),yt}()})})(bt);const _t=mt(bt.exports),St=O(()=>{const pt=xt({serializeDate:!0}),at=new _t.FetchServer("http://localhost:4000");return window&&(window.restServer=at),at.init(pt),at.toggleLogging(),vt.mock("begin:http://localhost:4000",at.getHandler()),()=>vt.restore()},"rest");export{St as default};
//# sourceMappingURL=rest.71502bf5.js.map
