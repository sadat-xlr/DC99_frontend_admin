!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ReactTabs={},e.React)}(this,(function(e,t){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=n(t);function r(e){return function(t){return!!t.type&&t.type.tabsRole===e}}var l=r("Tab"),s=r("TabList"),c=r("TabPanel");function d(e,n){return t.Children.map(e,(function(e){return null===e?null:function(e){return l(e)||s(e)||c(e)}(e)?n(e):e.props&&e.props.children&&"object"==typeof e.props.children?t.cloneElement(e,Object.assign({},e.props,{children:d(e.props.children,n)})):e}))}function o(e,n){return t.Children.forEach(e,(function(e){null!==e&&(l(e)||c(e)?n(e):e.props&&e.props.children&&"object"==typeof e.props.children&&(s(e)&&n(e),o(e.props.children,n)))}))}function i(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}function u(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=u(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}function f(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=u(e))&&(a&&(a+=" "),a+=t);return a}function b(e){var t=0;return o(e,(function(e){l(e)&&t++})),t}var m,p=["children","className","disabledTabClassName","domRef","focus","forceRenderTabPanel","onSelect","selectedIndex","selectedTabClassName","selectedTabPanelClassName","environment","disableUpDownKeys","disableLeftRightKeys"];function v(e){return e&&"getAttribute"in e}function h(e){return v(e)&&e.getAttribute("data-rttab")}function y(e){return v(e)&&"true"===e.getAttribute("aria-disabled")}var N=function(e){var n=t.useRef([]),r=t.useRef([]),o=t.useRef();function u(t,n){t<0||t>=C()||(0,e.onSelect)(t,e.selectedIndex,n)}function v(e){for(var t=C(),n=e+1;n<t;n++)if(!y(T(n)))return n;for(var a=0;a<e;a++)if(!y(T(a)))return a;return e}function N(e){for(var t=e;t--;)if(!y(T(t)))return t;for(t=C();t-- >e;)if(!y(T(t)))return t;return e}function C(){return b(e.children)}function T(e){return n.current["tabs-"+e]}function R(e){var t=e.target;do{if(g(t)){if(y(t))return;return void u([].slice.call(t.parentNode.children).filter(h).indexOf(t),e)}}while(null!=(t=t.parentNode))}function g(e){if(!h(e))return!1;var t=e.parentElement;do{if(t===o.current)return!0;if(t.getAttribute("data-rttabs"))break;t=t.parentElement}while(t);return!1}e.children;var w=e.className;e.disabledTabClassName;var x=e.domRef;e.focus,e.forceRenderTabPanel,e.onSelect,e.selectedIndex,e.selectedTabClassName,e.selectedTabPanelClassName,e.environment,e.disableUpDownKeys,e.disableLeftRightKeys;var E=i(e,p);return a.default.createElement("div",Object.assign({},E,{className:f(w),onClick:R,onKeyDown:function(t){var n=e.direction,a=e.disableUpDownKeys,r=e.disableLeftRightKeys;if(g(t.target)){var l=e.selectedIndex,s=!1,c=!1;"Space"!==t.code&&32!==t.keyCode&&"Enter"!==t.code&&13!==t.keyCode||(s=!0,c=!1,R(t)),(r||37!==t.keyCode&&"ArrowLeft"!==t.code)&&(a||38!==t.keyCode&&"ArrowUp"!==t.code)?(r||39!==t.keyCode&&"ArrowRight"!==t.code)&&(a||40!==t.keyCode&&"ArrowDown"!==t.code)?35===t.keyCode||"End"===t.code?(l=function(){for(var e=C();e--;)if(!y(T(e)))return e;return null}(),s=!0,c=!0):36!==t.keyCode&&"Home"!==t.code||(l=function(){for(var e=C(),t=0;t<e;t++)if(!y(T(t)))return t;return null}(),s=!0,c=!0):(l="rtl"===n?N(l):v(l),s=!0,c=!0):(l="rtl"===n?v(l):N(l),s=!0,c=!0),s&&t.preventDefault(),c&&u(l,t)}},ref:function(e){o.current=e,x&&x(e)},"data-rttabs":!0}),function(){var o=0,i=e.children,u=e.disabledTabClassName,f=e.focus,b=e.forceRenderTabPanel,p=e.selectedIndex,v=e.selectedTabClassName,h=e.selectedTabPanelClassName,y=e.environment;r.current=r.current||[];for(var N=r.current.length-C(),R=t.useId();N++<0;)r.current.push(""+R+r.current.length);return d(i,(function(e){var i=e;if(s(e)){var N=0,C=!1;null==m&&function(e){var t=e||("undefined"!=typeof window?window:void 0);try{m=!(void 0===t||!t.document||!t.document.activeElement)}catch(e){m=!1}}(y);var R=y||("undefined"!=typeof window?window:void 0);m&&R&&(C=a.default.Children.toArray(e.props.children).filter(l).some((function(e,t){return R.document.activeElement===T(t)}))),i=t.cloneElement(e,{children:d(e.props.children,(function(e){var a="tabs-"+N,l=p===N,s={tabRef:function(e){n.current[a]=e},id:r.current[N],selected:l,focus:l&&(f||C)};return v&&(s.selectedClassName=v),u&&(s.disabledClassName=u),N++,t.cloneElement(e,s)}))})}else if(c(e)){var g={id:r.current[o],selected:p===o};b&&(g.forceRender=b),h&&(g.selectedClassName=h),o++,i=t.cloneElement(e,g)}return i}))}())};N.defaultProps={className:"react-tabs",focus:!1};var C=function(e){var n=e.children,r=e.defaultFocus,l=e.defaultIndex,s=e.focusTabOnClick,c=e.onSelect,d=t.useState(r),o=d[0],i=d[1],u=t.useState(function(e){return null===e.selectedIndex?1:0}(e)),f=u[0],m=t.useState(1===f?l||0:null),p=m[0],v=m[1];if(t.useEffect((function(){i(!1)}),[]),1===f){var h=b(n);t.useEffect((function(){if(null!=p){var e=Math.max(0,h-1);v(Math.min(p,e))}}),[h])}var y=Object.assign({},e);return y.focus=o,y.onSelect=function(e,t,n){"function"==typeof c&&!1===c(e,t,n)||(s&&i(!0),1===f&&v(e))},null!=p&&(y.selectedIndex=p),delete y.defaultFocus,delete y.defaultIndex,delete y.focusTabOnClick,a.default.createElement(N,y,n)};C.defaultProps={defaultFocus:!1,focusTabOnClick:!0,forceRenderTabPanel:!1,selectedIndex:null,defaultIndex:null,environment:null,disableUpDownKeys:!1,disableLeftRightKeys:!1},C.tabsRole="Tabs";var T=["children","className"],R=function(e){var t=e.children,n=e.className,r=i(e,T);return a.default.createElement("ul",Object.assign({},r,{className:f(n),role:"tablist"}),t)};R.tabsRole="TabList",R.defaultProps={className:"react-tabs__tab-list"};var g=["children","className","disabled","disabledClassName","focus","id","selected","selectedClassName","tabIndex","tabRef"],w="react-tabs__tab",x={className:w,disabledClassName:"react-tabs__tab--disabled",focus:!1,id:null,selected:!1,selectedClassName:"react-tabs__tab--selected"},E=function(e){var n,r=t.useRef(),l=e.children,s=e.className,c=e.disabled,d=e.disabledClassName,o=e.focus,u=e.id,b=e.selected,m=e.selectedClassName,p=e.tabIndex,v=e.tabRef,h=i(e,g);return t.useEffect((function(){b&&o&&r.current.focus()}),[b,o]),a.default.createElement("li",Object.assign({},h,{className:f(s,(n={},n[m]=b,n[d]=c,n)),ref:function(e){r.current=e,v&&v(e)},role:"tab",id:"tab"+u,"aria-selected":b?"true":"false","aria-disabled":c?"true":"false","aria-controls":"panel"+u,tabIndex:p||(b?"0":null),"data-rttab":!0}),l)};E.tabsRole="Tab",E.defaultProps=x;var P=["children","className","forceRender","id","selected","selectedClassName"],I="react-tabs__tab-panel",k={className:I,forceRender:!1,selectedClassName:I+"--selected"},j=function(e){var t,n=e.children,r=e.className,l=e.forceRender,s=e.id,c=e.selected,d=e.selectedClassName,o=i(e,P);return a.default.createElement("div",Object.assign({},o,{className:f(r,(t={},t[d]=c,t)),role:"tabpanel",id:"panel"+s,"aria-labelledby":"tab"+s}),l||c?n:null)};j.tabsRole="TabPanel",j.defaultProps=k,e.Tab=E,e.TabList=R,e.TabPanel=j,e.Tabs=C,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=react-tabs.production.min.js.map
